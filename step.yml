#
# A couple of useful guides & docs:
#
# - Main Bitrise CLI docs: https://github.com/bitrise-io/bitrise/tree/master/_docs
# - Step Development Guideline: https://github.com/bitrise-io/bitrise/blob/master/_docs/step-development-guideline.md
# - Bitrise.yml format spec: https://github.com/bitrise-io/bitrise/blob/master/_docs/bitrise-yml-format-spec.md
# - Bitrise docs: http://devcenter.bitrise.io/
# - Bitrise CLI guides: http://devcenter.bitrise.io/bitrise-cli/

title: |-
  Unity Install
summary: |
  Installs Unity packages
description: |
  Install Unity packages
website: https://github.com/bdrelling/bitrise-step-unity-install
source_code_url: https://github.com/bdrelling/bitrise-step-unity-install
support_url: https://github.com/bdrelling/bitrise-step-unity-install/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04
project_type_tags:
  - xamarin
type_tags:
  - installer
is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""

deps:
  brew:
    - name: git
    - name: wget
  apt_get:
    - name: git
    - name: wget

toolkit:
  bash:
    entry_file: step.sh

inputs:
  - installer_id: ""
    opts:
      title: Unity Installer ID
      summary: The ID of the installer. If no value is specified, it will use the latest stable release version of Unity.
      description: |
        The installer ID can be found within the Component Installer URLs on the "What's new?" page for the Unity version you're trying to install. If no value is specified, it will use the latest stable release version of Unity.  
        Example Component Installer URL: `https://download.unity3d.com/download_unity/a220877bc173/TargetSupportInstaller/...` where `a220877bc173` is the ID for v2018.3.6.  
        Example **What's new?** page: https://unity3d.com/unity/whats-new/2018.3.6
      is_expand: true
      is_required: false
      value_options: []

  - should_build_ios: true
    opts:
      title: "Build iOS?"
      summary: Downloads and installs Unity iOS Target Support packages.
      description: |
        Downloads and installs Unity Android Target Support packages.
      is_expand: false
      is_required: true
      value_options: [true, false]

  - should_build_android: true
    opts:
      title: "Build Android?"
      summary: Downloads and installs Unity Android Target Support packages.
      description: |
        Downloads and installs Unity Android Target Support packages.
      is_expand: false
      is_required: true
      value_options: [true, false]

  - package_directory: "."
    opts:
      title: "Package Directory"
      summary: The directory the packages are downloaded to.
      description: |
        The directory the packages are downloaded to. If left blank, packages will be downloaded to the project root.
      is_expand: false
      is_required: true
      value_options: []

outputs:
  - UNITY_PACKAGE_DIRECTORY:
    opts:
      title: "Unity Package Directory"
      summary: The directory where the packages are stored.
      description: |
        The directory where the packages are stored.
